<!-- <div class="box">
    <h1>Proyecto</h1>
    <div class="container">
        <mat-form-field>
            <input matInput placeholder="Nombre" type="text" [value]="projectApp.name" required>
        </mat-form-field>
        <div class="align1">
            <mat-form-field>
                <input matInput placeholder="Cliente" type="text" [value]="projectApp.client" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Tipo" type="text" [value]="projectApp.type" required>
            </mat-form-field>
        </div>
        <div class="align1">
            <mat-form-field>
                <input matInput [matDatepicker]="picker" placeholder="Fecha de inicio" [(ngModel)]="projectApp.start_date" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field>
                <input matInput [matDatepicker]="picker1" placeholder="Fecha de fin" [(ngModel)]="projectApp.end_date" required>
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
        </div>

        <mat-form-field>
            <textarea cols="5" rows="3" matInput placeholder="Descripción" [value]="projectApp.description"></textarea>
        </mat-form-field>
    </div>
</div>

<h6>Actividades:</h6>

<div class="subcontainer">
    <table>
        <thead>
            <tr>
                <td>Nombre</td>
                <td>Estado</td>
                <td>Herramientas</td>
            </tr>
        </thead>
        <tr *ngFor="let activity of activitiesProject">
            <td>{{activity.name}}</td>
            <td>{{activity.status}}</td>
            <td>
                <button class="btn btn-info" (click)="getActivity(activity.id)" [value]="activity.id">
                                <mat-icon style="width: 20px; height: 10px">remove_red_eye</mat-icon> 
                            </button> &nbsp; &nbsp; &nbsp;
                <button class="btn btn-danger" (click)="imprime()">
                                <mat-icon style="width: 20px; height: 10px">delete</mat-icon>  
                            </button>
            </td>
        </tr>
    </table>
</div>


<div *ngIf="post == true; else lookAct">
    <br>
</div>

<br>

<ng-template #lookAct>
    <h3 class="space">Actividad</h3>
    <mat-divider></mat-divider>
    <div>
        <mat-form-field>
            <input matInput placeholder="Nombre" type="text" required>
        </mat-form-field>
        <h5>Tareas:</h5>
        <div class="subcontainer">
            <table>
                <thead>
                    <tr>
                        <td>Nombre</td>
                        <td>Encargado</td>
                        <td>Estado</td>
                        <td>Herramientas</td>
                    </tr>
                </thead>
                <tr *ngFor="let task of tasksActivity">
                    <td>{{task.name}}</td>
                    <td>{{task.delegate}}</td>
                    <td>{{task.status}}</td>
                    <td>
                        <button class="btn btn-info" (click)="getTask(task.id)">
                                    <mat-icon style="width: 20px; height: 10px">remove_red_eye</mat-icon> 
                                </button> &nbsp; &nbsp; &nbsp;
                        <button class="btn btn-danger">
                                    <mat-icon style="width: 20px; height: 10px">delete</mat-icon>  
                                </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</ng-template>

<div *ngIf="post1 == true; else lookTask">
    <br>
</div>

<ng-template #lookTask>
    <h3 class="space">Tarea</h3>
    <mat-divider></mat-divider>
    <p>{{ taskActivity.name }}</p>
</ng-template>
 -->


<div class="section1">
    <h1 class="main">{{ projectApp.name }}</h1>
    <mat-divider></mat-divider>
    <div class="align1">
        <button class="btn btn-warning" (click)="backProjects()" matTooltip="Atrás">
                <mat-icon style="width: 20px; height: 10px">keyboard_backspace</mat-icon>  
        </button>
        <button class="btn btn-warning" (click)="editProject()" matTooltip="Editar">
                <mat-icon style="width: 20px; height: 10px">edit</mat-icon>  
        </button>
    </div>


    <div class="container">
        <mat-form-field>
            <input matInput placeholder="Nombre" type="text" [value]="projectApp.name" [disabled]="open" required>
        </mat-form-field>

        <div class="align1">
            <mat-form-field>
                <input matInput placeholder="Cliente" [value]="projectApp.client" type="text" [disabled]="open" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="Tipo" [value]="projectApp.type" type="text" [disabled]="open" required>
            </mat-form-field>
        </div>

        <div class="align1">
            <mat-form-field>
                <input matInput [matDatepicker]="picker" placeholder="Fecha de inicio" [(ngModel)]="projectApp.start_date" [disabled]="open" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field>
                <input matInput [matDatepicker]="picker1" placeholder="Fecha de fin" [(ngModel)]="projectApp.end_date" [disabled]="open" required>
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
        </div>

        <mat-form-field>
            <textarea cols="5" rows="3" matInput placeholder="Descripción" [disabled]="open" [value]="projectApp.description"></textarea>
        </mat-form-field>
    </div>

    <div *ngIf="post1 == true; else lookGuardarProy">
        <br>
    </div>

    <ng-template #lookGuardarProy>
        <button class="btnGuardar">Guardar</button>
    </ng-template>

    <div *ngIf="activities.length > 0; else sinActivities">
        <table>
            <tr class="title1">
                <th colspan="3" scope="rowgroup">Actividades del proyecto</th>
            </tr>

            <thead>
                <tr class="thead">
                    <th>Nombre</th>
                    <th>Estado</th>
                    <th>Herramientas</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let activity of activitiesProject">
                    <td>{{activity.name}}</td>
                    <td>{{activity.status}}</td>
                    <td>
                        <button class="btn btn-info" (click)="getActivity(activity.id)" matTooltip="Detalles actividad">
                                <mat-icon style="width: 20px; height: 10px">remove_red_eye</mat-icon> 
                            </button> &nbsp; &nbsp;
                        <button class="btn btn-danger" matTooltip="Borrar actividad">
                                <mat-icon style="width: 20px; height: 10px">delete</mat-icon>  
                            </button> &nbsp; &nbsp;
                        <button class="btn btn-success" matTooltip="Agregar tarea" (click)="openTask()">
                                <mat-icon style="width: 20px; height: 10px">playlist_add</mat-icon>  
                            </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <ng-template #sinActivities>
        <br>
        <br>
        <br>
        <div class="empty">
            <h5>No existe registro !!!</h5><br>
            <h6>Este proyecto no cuenta con actividades asignadas</h6>
            <button class="btnGuardar btnAct" (click)="openActivity()">Agregar Actividad</button>
        </div>
    </ng-template>

    <br>
</div>

<div *ngIf="post4 == true; else lookAct">
    <br>
</div>

<br>

<ng-template #lookAct>
    <br>
    <br>
    <div class="section2">
        <div class="align1">
            <h3>Actividad</h3>
            <div>
                <button class="btn btn-warning" (click)="editActivity()" matTooltip="Editar">
                        <mat-icon style="width: 20px; height: 10px">edit</mat-icon>  
                    </button>

                <button class="btn btn-dark" matTooltip="Cerrar" (click)="post4 = !post4">
                        <mat-icon style="width: 20px; height: 10px">cancel</mat-icon>  
                    </button>
            </div>
            <!-- <button class="btn btn-dark btnStyle" >
                    <mat-icon style="width: 20px; height: 10px">cancel</mat-icon>  
                </button> -->
        </div>
        <mat-divider></mat-divider>

        <div class="container">
            <mat-form-field>
                <input matInput placeholder="Nombre" type="text" [value]="activityProject.name" [disabled]="open1" required>
            </mat-form-field>

            <div class="align1">
                <mat-form-field>
                    <input matInput [matDatepicker]="picker" placeholder="Fecha de inicio" [disabled]="open1" required>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>

                <mat-form-field>
                    <input matInput [matDatepicker]="picker1" placeholder="Fecha de fin" [disabled]="open1" required>
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="align1">
                <mat-form-field>
                    <input matInput placeholder="Dias de duración" type="number" [value]="activityProject.activity_time" [disabled]="open1" required>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Dias restantes" type="number" [disabled]="open1" required>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Dias de atraso" type="number" [disabled]="open1" required>
                </mat-form-field>
            </div>

            <mat-form-field>
                <input matInput placeholder="Estado" type="text" [value]="activityProject.status" [disabled]="open1" required>
            </mat-form-field>

            <!-- <mat-form-field>
                    <textarea cols="5" rows="3" matInput placeholder="Descripción"></textarea>
                </mat-form-field> -->
        </div>

        <div *ngIf="post2 == true; else lookGuardarAct">
            <br>
        </div>

        <ng-template #lookGuardarAct>
            <button class="btnGuardar">Guardar</button>
        </ng-template>

        <div class="space" *ngIf="tasks.length > 0; else sinTasks">
            <table>
                <tr class="title2">
                    <th colspan="4" scope="rowgroup">Tareas de la actividad </th>
                </tr>
                <thead>
                    <tr class="thead">
                        <th>Nombre</th>
                        <th>Encargado</th>
                        <th>Estado</th>
                        <th>Herramientas</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let task of tasksActivity">
                        <td>{{task.name}}</td>
                        <td>{{task.delegate}}</td>
                        <td>{{task.status}}</td>
                        <td>
                            <button class="btn btn-info" (click)="getTask(task.id)" matTooltip="Detalles tarea">
                                    <mat-icon style="width: 20px; height: 10px">remove_red_eye</mat-icon> 
                                </button> &nbsp; &nbsp; &nbsp;
                            <button class="btn btn-danger" matTooltip="Borrar tarea">
                                    <mat-icon style="width: 20px; height: 10px">delete</mat-icon>  
                                </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <ng-template #sinTasks>
            <br>
            <br>
            <br>
            <div class="empty">
                <h4>No existe registro !!!</h4><br>
                <h5>Esta actividad no cuenta con tareas asignadas</h5><br>
                <p>Usted puede agregar las tareas de cada actividad en la columna herramientas de la tabla "Actividades del proyecto"</p>
            </div>
        </ng-template>

    </div>
</ng-template>


<div *ngIf="post5 == true; else lookTask">
    <br>
</div>

<ng-template #lookTask>
    <br>
    <div class="section3">
        <div class="align1">
            <h3>Tarea</h3>
            <div>
                <button class="btn btn-warning" (click)="editTask()" matTooltip="Editar">
                        <mat-icon style="width: 20px; height: 10px">edit</mat-icon>  
                    </button>

                <button class="btn btn-dark" matTooltip="Cerrar">
                        <mat-icon style="width: 20px; height: 10px">cancel</mat-icon>  
                    </button>
            </div>
        </div>
        <mat-divider></mat-divider>

        <div class="container">
            <mat-form-field>
                <input matInput placeholder="Nombre" type="text" [value]="taskActivity.name" [disabled]="open2" required>
            </mat-form-field>

            <div class="align1">
                <mat-form-field>
                    <mat-label>Delegado</mat-label>
                    <mat-select name="taskdelegate" [(ngModel)]="taskActivity.delegate" [disabled]="open2">
                        <mat-option *ngFor="let delegate of delegates" [value]="taskActivity.delegate">
                            {{ delegate.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Estado" type="text" [value]="taskActivity.status" [disabled]="open2" required>
                </mat-form-field>
            </div>

            <div *ngIf="post3 == true; else lookGuardarTasks">
                <br>
            </div>

            <ng-template #lookGuardarTasks>
                <div>
                    <button class="btnGuardar">Guardar</button>
                </div>
            </ng-template>


            <mat-label>Evidencia</mat-label>
            <input type="file" accept=".pdf,.jpg,.png,.docx" aria-multiselectable="true" required>
            <div class="lookFiles">
                <h5>Visualizacion</h5>
            </div>
            <!-- <div>
                    <mat-form-field>
                        <input matInput placeholder="Evidencia" type="file" accept=".pdf,.jpg,.png" multiple>
                    </mat-form-field>
                </div>
                 -->

        </div>
    </div>
</ng-template>