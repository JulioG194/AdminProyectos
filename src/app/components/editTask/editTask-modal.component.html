<button style="width: fit-content; background-color: white;" mat-icon-button class="close-button" [mat-dialog-close]="true">
  <mat-icon style="margin-bottom: 15px; color: black;" class="close-icon" color="warn">close</mat-icon>
</button>

<h1 mat-dialog-title>Nuevo Tarea</h1>

<mat-dialog-content class="custom-dialog-container" [formGroup]="form">

    <div style="font-size: 13px;">

        <mat-form-field style="margin-bottom: -1em" appearance="outline">
            <mat-label class="placeholder">Nombre</mat-label>
            <input matInput type="text" formControlName="name" required />
            <mat-icon matSuffix class="secondary-text">create</mat-icon>
        </mat-form-field>

        <mat-form-field style="margin-bottom: -1.25em" appearance="outline">
            <mat-label class="placeholder">Fecha de inicio</mat-label>
            <input matInput [matDatepicker]="picker" [min]="minDate" [max]="maxDate" readonly (dateInput)="inputEvent($event)" formControlName="startDate" required />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field style="margin-bottom: -1.25em" appearance="outline">
            <mat-label class="placeholder">Fecha de fin</mat-label>
            <input matInput [matDatepicker]="picker1" [min]="minDate" [max]="maxDate" readonly (dateInput)="inputEvent2($event)" formControlName="endDate" required />
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>

        <mat-form-field style="margin-bottom: -1.25em" appearance="outline">
            <mat-label>Delegado</mat-label>
            <mat-select formControlName="delegateTask" required>
                <mat-option [value]="delegate" *ngFor="let delegate of delegates">
                    <img matListAvatar [src]="delegate?.photoURL" style="width: 30px; height: 30px; border-radius: 150px" />
                    <b style="font-size: 12px">{{ delegate.displayName }}</b>
                </mat-option>
            </mat-select>
            <mat-icon matSuffix class="secondary-text">person</mat-icon>
        </mat-form-field>

        <mat-form-field style="margin-bottom: -1.25em" appearance="outline">
            <mat-label class="placeholder">Descripcion</mat-label>
            <textarea cols="2" rows="2" matInput formControlName="description"></textarea>
            <mat-icon matSuffix class="secondary-text">description</mat-icon>
        </mat-form-field>
    </div>

</mat-dialog-content>
<mat-dialog-actions>
    <span style="color: red; font-size: 10px;" fxFlex="row">
        Todos los campos (*) deben ser llenados</span>
    <span *ngIf="(taskFormControl.name.touched && taskFormControl.name.errors?.whitespace)" style="color: red; font-size: 10px;" fxFlex="row">
        No se admiten campos con espacios en blanco</span>
    <button class="mat-raised-button" style="background-color: #082330; color: white;" (click)="save()">Guardar</button>
</mat-dialog-actions>